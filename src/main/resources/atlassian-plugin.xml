<atlassian-plugin key="${groupId}.${artifactId}" name="${artifactId}" plugins-version="2">
    <plugin-info>
        <description>${project.description}</description>
        <version>${project.version}</version>
        <!-- TODO: Add vendor details -->
        <!--
        <vendor name="Example Company" url="http://www.example.com"/>
        -->
    </plugin-info>

    <!-- Add ourselves to the user hover as a secondary action -->
    <web-item key="im-chat" name="Chat" section="system.user.hover/secondary" weight="33">
        <label key="space.personal.name"/>
        <link>/display/~$generalUtil.doubleUrlEncode($helper.action.user.name)</link>
        <condition class="com.atlassian.fedex.UserHasChatName"/>
        <styleClass>personal-space-link</styleClass>
    </web-item>

    <!-- provides JSON endpoints for sending and receiving messages -->
    <rest key="chat-rest-endpoint" name="Chat REST Endpoint" path="/chat" version="1">
        <description>Allows JSON calls to send and receive chat messages</description>
    </rest>

    <macro name="confluence-chat" class="com.atlassian.fedex.ExampleMacro" key="my-macro">
    <!-- TODO: Add macro description -->
    <!-- <description></description> -->
    </macro>

    <!--Add our own little static resourcey goodness-->
    <web-resource name="Confluence Chat Web Resources" key="confluence-chat">
        <dependency>com.atlassian.auiplugin:ajs</dependency>
        <resource type="download" name="confluence-chat.css" location="confluence-chat.css"/>
        <resource type="download" name="confluence-chat.js" location="confluence-chat.js"/>
        <context>main</context>
    </web-resource>

</atlassian-plugin>
